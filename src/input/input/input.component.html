<mat-form-field class="w-100">
  <mat-label>{{ label }}</mat-label>
  <div class="d-flex align-items-center">
    <input
      #nativeInput
      matInput
      [id]="inputId"
      [type]="type"
      [readonly]="readonly"
      [formControl]="inputFormControl"
      [prefix]="(isCurrency && ('prefix' | symbolPosition)) ? ((currencyDisplay | async) ?? '') :  maskPrefix"
      [suffix]="(isCurrency && ('suffix' | symbolPosition)) ? ((currencyDisplay | async) ?? '') :  maskSuffix"
      [mask]="mask"
      [decimalMarker]="isCurrency ? ((currencyDecimalSeparator | async) ?? '.') : '.'"
      [thousandSeparator]="isCurrency ? ((currencyThousandthsSeparator | async) ?? '.') : '.'"
      (blur)="inputBlur.emit($event)"
    />
    <button
      *ngIf="showVisibilityEye"
      mat-icon-button
      type="button"
      [matTooltip]="type === 'password' ? 'Show ' + label : 'Hide ' + label"
      (click)="toggleVisibility()"
    >
      <mat-icon *ngIf="type === 'password'">visibility</mat-icon>
      <mat-icon *ngIf="type !== 'password'">visibility_off</mat-icon>
    </button>
  </div>
  <mat-error *ngFor="let err of formControlErrors | async">{{
      err.message
    }}
  </mat-error>
</mat-form-field>
