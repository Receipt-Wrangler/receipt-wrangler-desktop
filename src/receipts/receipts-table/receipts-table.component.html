<div class="example-container mat-elevation-z8">
  <div class="d-flex justify-content-end">
    <app-button
      buttonText="Add Receipt"
      [routerLink]="['/receipts/add']"
    ></app-button>
  </div>
  <mat-table #table [dataSource]="receipts">
    <ng-container matColumnDef="date">
      <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{ element.date | date }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
      <mat-cell *matCellDef="let element">
        <a [routerLink]="['/receipts/' + element.id + '/view']">
          {{ element.name }}
        </a>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="paidBy">
      <mat-header-cell *matHeaderCellDef> Paid By </mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element.paidByUserId }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="amount">
      <mat-header-cell *matHeaderCellDef> Amount </mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element.amount | currency }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="categories">
      <mat-header-cell *matHeaderCellDef> Categories </mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element?.categories | name }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="tags">
      <mat-header-cell *matHeaderCellDef> Tags </mat-header-cell>
      <mat-cell *matCellDef="let element">
        {{ element.tags | name }}
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="isResolved">
      <mat-header-cell *matHeaderCellDef> Is Resolved </mat-header-cell>
      <mat-cell *matCellDef="let element; let i = index">
        <app-slide-toggle
          color="primary"
          [checked]="element.isResolved"
          (click)="toggleIsResolved(element, i)"
        ></app-slide-toggle>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef> Actions</mat-header-cell>
      <mat-cell *matCellDef="let element; let i = index">
        <div class="d-flex w-100">
          <app-button
            matButtonType="iconButton"
            icon="delete"
            buttonText="hello"
            color="warn"
            (click)="deleteReceipt(element)"
          ></app-button>
        </div>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>
</div>
